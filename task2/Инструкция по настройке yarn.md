
# –†–∞–∑–±–µ—Ä–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫—É Yarn:

#### –°—Ä—É–∑—É –º–æ–∂–Ω–æ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã:
![image](https://github.com/user-attachments/assets/f437ae46-40c1-4d1a-8950-4a9417a3d5ef)

–ò—Å–ø–æ–ª—å–∑—É–µ–º —É–∂–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –Ω–∞–º –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –≤—Ö–æ–¥–∞:

—à–∞–≥ 1
```bash
ssh team@host
```
—à–∞–≥ 2
```bash
sudo -i -u hadoop
```
—à–∞–≥ 3
```bash
ssh team-k-nn
```
—à–∞–≥ 4
```bash
cd hadoop-x.x.0/etc/hadoop
```

 
## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞ MapReduce

–ú–∞–ª–µ–Ω—å–∫–∏–π –ª–∏–∫–±–µ–∑ –∫ —Ç–æ–º—É, —á—Ç–æ —ç—Ç–æ –∏ –∑–∞—á–µ–º –æ–Ω–æ –Ω–∞–º –Ω–∞–¥–æ –≤–æ–æ–±—â–µ:

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è MapReduce –≤ Hadoop –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö –º–æ–¥–µ–ª–∏ MapReduce. –≠—Ç–∞ –º–æ–¥–µ–ª—å –¥–µ–ª–∏—Ç –∑–∞–¥–∞—á–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —ç—Ç–∞–ø–∞: Map –∏ Reduce. –ö–∞–∂–¥—ã–π –∏–∑ —ç—Ç–∏—Ö —ç—Ç–∞–ø–æ–≤ —Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–∫–ª—é—á–∞—Ç—å –≤ —Å–µ–±—è:

1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞:

   ‚Ä¢ –í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ mapred-site.xml —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, –∫–∞–∫–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á MapReduce. –ù–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å YARN (Yet Another Resource Negotiator), –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞.

2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤:

   ‚Ä¢ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ —Ä–µ—Å—É—Ä—Å–æ–≤ (CPU, –ø–∞–º—è—Ç—å) –±—É–¥–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∑–∞–¥–∞—á–∏ Map –∏–ª–∏ Reduce. –≠—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –∫–ª–∞—Å—Ç–µ—Ä–∞.

3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞:

   ‚Ä¢ –í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç—ã –≤–≤–æ–¥–∞ –∏ –≤—ã–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö, –∞ —Ç–∞–∫–∂–µ –ø—É—Ç–∏ –∫ –¥–∞–Ω–Ω—ã–º, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è. –≠—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å HDFS (Hadoop Distributed File System) –∏ –¥—Ä—É–≥–∏–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.

4. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á:

   ‚Ä¢ –ú–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∑–∞–¥–∞—á, —Ç–∞–∫–∏–µ –∫–∞–∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞–ø–ø–µ—Ä–æ–≤ –∏ —Ä–µ–¥—å—é—Å–µ—Ä–æ–≤, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∞–º–∏ –∏ —Ç.–¥.

5. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏:

   ‚Ä¢ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç —Ç–∞–∫–∂–µ –≤–∫–ª—é—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á.

6. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:

   ‚Ä¢ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–≥—É—Ç –≤–∫–ª—é—á–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á, —á—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –≤ –æ—Ç–ª–∞–¥–∫–µ –∏ –∞–Ω–∞–ª–∏–∑–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ mapred-site.xml —è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–µ–≤—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ Hadoop –∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –µ—ë –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞.

```bash
nano mapred-site.xml # –ó–∞—Ö–æ–¥–∏–º –≤ –∫–æ–Ω—Ñ–∏–≥ MapReduce
```

–í—Å—Ç–∞–≤–ª—è–µ–º –≤ –∫–æ–Ω—Ñ–∏–≥ MapReduce
```bash
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>
<!--
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file.
-->

<!-- Put site-specific property overrides in this file. -->

<configuration>
        <property>
                <name>mapreduce.framework.name</name>
                <value>yarn</value>
        </property>
        <property>
                <name>mapreduce.application.classpath</name>
                <value>$HADOOP_HOME/share/hadoop/mapreduce/*:$HADOOP_HOME/share/hadoop/mapreduce/lib/*</value>
        </property>
</configuration>
```
## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞ YARN

–û–ø—è—Ç—å –∂–µ –Ω–µ–º–Ω–æ–≥–æ –æ —Ç–æ–º, —á—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–Ω—Ñ–∏–≥ yarn –∏ –∑–∞—á–µ–º –æ–Ω–æ –Ω–∞–º –Ω–∞–¥–æ.
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è YARN (Yet Another Resource Negotiator) –≤ Hadoop –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞ –∏ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π. YARN —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã Hadoop, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á. –í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã—Ö –ø—Ä–∏—á–∏–Ω, –ø–æ—á–µ–º—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è YARN –≤–∞–∂–Ω–∞:

1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏: 

   ‚Ä¢ YARN –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å —Ä–µ—Å—É—Ä—Å—ã (CPU, –ø–∞–º—è—Ç—å) –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ –∏ –∑–∞–¥–∞—á–∞–º–∏, —Ä–∞–±–æ—Ç–∞—é—â–∏–º–∏ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–º–æ–≥–∞–µ—Ç –∑–∞–¥–∞—Ç—å –ª–∏–º–∏—Ç—ã –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

2. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á:

   ‚Ä¢ YARN –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ—á–µ—Ä–µ–¥—è–º–∏ –∑–∞–¥–∞—á –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∑–∞–¥–∞—á –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ–º—ã—Ö –∑–∞–¥–∞—á.

3. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:

   ‚Ä¢ YARN –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å, –ø–æ–∑–≤–æ–ª—è—è –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —É–∑–ª—ã –≤ –∫–ª–∞—Å—Ç–µ—Ä –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –≠—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö –∏ —É–≤–µ–ª–∏—á–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

4. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π:

   ‚Ä¢ YARN –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∑–∞–¥–∞—á–∞–º–∏ MapReduce; –æ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ Spark, Tez –∏ –¥—Ä—É–≥–∏–µ. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º—É Hadoop.

5. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

   ‚Ä¢ –° –ø–æ–º–æ—â—å—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ YARN –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–¥–∞—á, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–ª–∞—Å—Ç–µ—Ä–∞.

6. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

   ‚Ä¢ YARN –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ Kerberos –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, —á—Ç–æ–±—ã –∑–∞—â–∏—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏ —Ä–µ—Å—É—Ä—Å—ã –∫–ª–∞—Å—Ç–µ—Ä–∞.

7. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

   ‚Ä¢ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è YARN –º–æ–∂–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—Å–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∑–∞ —Å—á—ë—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á.

–í —Ü–µ–ª–æ–º, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è YARN –∏–≥—Ä–∞–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫—É—é —Ä–æ–ª—å –≤ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∫–ª–∞—Å—Ç–µ—Ä–∞ Hadoop, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á.

```bash
nano yarn-site.xml # –∑–∞—Ö–æ–¥–∏–º –≤ –∫–æ—Ñ–∏–Ω YARN
```
–í—Å—Ç–∞–≤–ª—è–µ–º –≤ –∫–æ–Ω—Ñ–∏–≥ YARN 
```bash
<?xml version="1.0"?>
<!--
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file.
-->
<configuration>

<!-- Site specific YARN configuration properties -->

       <property>
                <name>yarn.nodemanager.aux-services</name>
                <value>mapreduce_shuffle</value>
        </property>
        <property>
                <name>yarn.nodemanager.env-whitelist</name>
                <value>JAVA_HOME, HADOOP_COMMON_HOME, HADOOP_HDFS_HOME, HADOOP_CONF_DIR, CLASSPATH_PREPEND_DISTCACHE, HADOOP_YARN_HOME, HADOOP_HOME, PATH, LANG, TZ, HADOOP_MAPRED_HOME</value>
        </property>
</configuration>
```
## –ö–æ–ø–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥–∏ –Ω–∞ data nodes

–ü—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º –ø—Ä–æ–±—Ä–æ—Å–∫—É –Ω–∞ data nodes –∏ –¥–ª—è YARN –∏ –¥–ª—è MapReduce
```bash
scp mapred-site.xml team-k-dn-0:/home/hadoop/hadoop-x.x.0/etc/hadoop
scp mapred-site.xml team-k-dn-1:/home/hadoop/hadoop-x.x.0/etc/hadoop

scp yarn-site.xml team-k-dn-0:/home/hadoop/hadoop-x.x.0/etc/hadoop
scp yarn-site.xml team-k-dn-1:/home/hadoop/hadoop-x.x.0/etc/hadoop
```

## –ó–∞–ø—É—Å–∫–∞–µ–º YARN
```bash
cd ../../
sbin/start-yarn.sh
```
–¢–µ–ø–µ—Ä—å –Ω–µ–º–Ω–æ–≥–æ –æ —Ç–æ–º, –∑–∞—á–µ–º –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Ç–æ, —á—Ç–æ –≤ –∫–æ–º–∞–Ω–¥–µ –¥–∞–ª—å—à–µ.
History Server –≤ YARN (Yet Another Resource Negotiator) ‚Äî —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏—è—Ö. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —á—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –æ—Ç–ª–∞–¥–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.

‚ñé–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ History Server:

1. –•—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–¥–∞–Ω–∏—è—Ö:

   ‚Ä¢ History Server —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏—è—Ö, —Ç–∞–∫–∏—Ö –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ—Å—É—Ä—Å–∞—Ö, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á–∞–º–∏, –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏.

2. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞:

   ‚Ä¢ History Server –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∏—Ö —Å—Ç–∞—Ç—É—Å, –ª–æ–≥–∏ –∏ –¥—Ä—É–≥–∏–µ –¥–µ—Ç–∞–ª–∏. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –≤—ã—è–≤–ª—è—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã.

3. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π:

   ‚Ä¢ –•–æ—Ç—è History Server —á–∞—Å—Ç–æ –∞—Å—Å–æ—Ü–∏–∏—Ä—É–µ—Ç—Å—è —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ MapReduce, –æ–Ω —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –Ω–∞ YARN, —Ç–∞–∫–∏—Ö –∫–∞–∫ Apache Spark.

4. –£–ø—Ä–æ—â–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–∫–∏:

   ‚Ä¢ –ë–ª–∞–≥–æ–¥–∞—Ä—è –¥–æ—Å—Ç—É–ø—É –∫ –ª–æ–≥–∞–º –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π, History Server —É–ø—Ä–æ—â–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–ª–∞–¥–∫–∏ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

5. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

   ‚Ä¢ History Server —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö YARN (–Ω–∞–ø—Ä–∏–º–µ—Ä, yarn-site.xml), —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å, –≥–¥–µ –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è —Ñ–∞–π–ª—ã –∏—Å—Ç–æ—Ä–∏–∏ –∏ –∫–∞–∫ –¥–æ–ª–≥–æ –æ–Ω–∏ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è.

‚ñé–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç History Server:

‚Ä¢ –ö–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è, –µ–≥–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, HDFS) –≤ —Ñ–æ—Ä–º–∞—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ—á–∏—Ç–∞–Ω History Server.

‚Ä¢ History Server –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç —ç—Ç–∏ —Ñ–∞–π–ª—ã –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–≤–æ—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏—è—Ö.

‚Ä¢ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —ç—Ç–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –æ–±—ã—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã–π –ø–æ –∞–¥—Ä–µ—Å—É http://<history-server-host>:<port>/.

–í —Ü–µ–ª–æ–º, History Server —è–≤–ª—è–µ—Ç—Å—è –≤–∞–∂–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ Hadoop, –ø–æ–∑–≤–æ–ª—è—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–æ–ª—É—á–∞—Ç—å —Ü–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ—à–ª—ã—Ö –∑–∞–¥–∞—á–∞—Ö –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±—É–¥—É—â–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è.

```bash
mapred --daemon start historyserver # –ó–∞–ø—É—Å–∫–∞–µ–º historyserver
```

## –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã YARN –∏ historyserver

—à–∞–≥ 1. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ jump node
```bash
ssh team-k-jn
```
—à–∞–≥ 2. –í—ã—Ö–æ–¥–∏–º –∏–∑ —É—á–µ—Ç–∫–∏ hadoop
```bash
exit
```
—à–∞–≥ 3. 
/etc/nginx/sites-available/nn: –≠—Ç–æ –ø—É—Ç—å –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—É (–∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏), –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —ç—Ç–æ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Ö–æ—Å—Ç–∞ Nginx —Å –∏–º–µ–Ω–µ–º nn.
/etc/nginx/sites-available/ya: –≠—Ç–æ –ø—É—Ç—å –∫ –º–µ—Å—Ç—É –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è, –∫—É–¥–∞ –±—É–¥–µ—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω —Ñ–∞–π–ª. –ó–¥–µ—Å—å –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å –∏–º–µ–Ω–µ–º ya.
```bash
sudo cp /etc/nginx/sites-available/nn /etc/nginx/sites-available/ya
sudo cp /etc/nginx/sites-available/nn /etc/nginx/sites-available/dh
```
YARN. –û—Ç–∫—Ä—ã–≤–∞–µ–º –∫–æ–Ω—Ñ–∏–≥ –∏ –∑–∞–º–µ–Ω—è–µ–º –ø–æ—Ä—Ç –≤ listen –∏ proxy_pass –Ω–∞ –ø–æ—Ä—Ç 8088.
–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx, –≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏, –∑–∞–º–µ–Ω–∞ –ø–æ—Ä—Ç–∞ –≤ –¥–∏—Ä–µ–∫—Ç–∏–≤–∞—Ö listen –∏ proxy_pass, –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø—Ä–∏—á–∏–Ω–∞–º. –î–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∑–∞—á–µ–º —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –∏ —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –∫–∞–∂–¥–∞—è –∏–∑ —ç—Ç–∏—Ö –¥–∏—Ä–µ–∫—Ç–∏–≤.

‚ñé–ó–∞—á–µ–º –º—ã —ç—Ç–æ –¥–µ–ª–∞–µ–º

1. –°–º–µ–Ω–∞ –ø–æ—Ä—Ç–∞ –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞: –ï—Å–ª–∏ –≤–∞—à —Å–µ—Ä–≤–∏—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ) —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 8088, –≤–∞–º –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —ç—Ç–æ—Ç –ø–æ—Ä—Ç –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx, —á—Ç–æ–±—ã –æ–Ω –º–æ–≥ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –≤–∞—à–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é.

2. –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–æ–≤: –í–æ–∑–º–æ–∂–Ω–æ, –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–∏—Å —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, 80 –∏–ª–∏ 443). –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞ 8088 –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –∏ —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–±–∞ —Å–µ—Ä–≤–∏—Å–∞.

3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞ –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, —Ç–∞–∫ –∫–∞–∫ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –±–æ—Ç—ã –∏ —Å–∫–∞–Ω–µ—Ä—ã –∏—â—É—Ç —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ—Ä—Ç—ã.

4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞: –ï—Å–ª–∏ –≤—ã —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ –∏–ª–∏ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞—Ö–æ—Ç–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç, —á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞—Ç—å –¥—Ä—É–≥–∏–º —Ä–∞–±–æ—Ç–∞—é—â–∏–º —Å–µ—Ä–≤–∏—Å–∞–º.

‚ñé–ß—Ç–æ —Ç–∞–∫–æ–µ listen –∏ proxy_pass

‚Ä¢ listen: –≠—Ç–∞ –¥–∏—Ä–µ–∫—Ç–∏–≤–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç, –Ω–∞ –∫–∞–∫–æ–º –ø–æ—Ä—Ç—É –∏ IP-–∞–¥—Ä–µ—Å–µ Nginx –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä:
  ```bash
  server {
      listen 8088;
      ...
  }
  ```
  –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ Nginx –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ø–æ—Ä—Ç—É 8088.

‚Ä¢ proxy_pass: –≠—Ç–∞ –¥–∏—Ä–µ–∫—Ç–∏–≤–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –¥—Ä—É–≥–æ–º—É —Å–µ—Ä–≤–µ—Ä—É –∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é. –ù–∞–ø—Ä–∏–º–µ—Ä:
  ```bash
  location / {
      proxy_pass http://localhost:8088;
      ...
  }
  ```
  –≠—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç Nginx –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –Ω–∞ –ø–æ—Ä—Ç—É 8088.

```bash
 sudo nano /etc/nginx/sites-available/ya
```

–¢–æ –∂–µ —Å–∞–º–æ–µ –¥–µ–ª–∞–µ–º —Å historyserver, —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—è–µ–º —É–∂–µ –Ω–∞ –ø–æ—Ä—Ç 19888
```bash
 sudo nano /etc/nginx/sites-available/dh
```

–ù—É –∏ –Ω–∞–∫–æ–Ω–µ—Ü –≤–∫–ª—é—á–∞–µ–º: ü•≥ü•≥ü•≥
```bash
 sudo ln -s /etc/nginx/sites-available/ya /etc/nginx/sites-enabled/ya
 sudo ln -s /etc/nginx/sites-available/dh /etc/nginx/sites-enabled/dh
```

–ó–∞–ø—É—Å–∫ nginx
```bash
 sudo systemctl reload nginx
 exit
```
 
## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã UI YARN
–ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É —Å —É—á–µ—Ç–æ–º –ø—Ä–æ–±—Ä–æ—à–µ–Ω–Ω–µ–≥–æ –ø–æ—Ä—Ç–∞
```bash
ssh -L 8088:team-k-nn:8088 team@host
```
–ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ –∞–¥—Ä–µ—Å—É
```bash
127.0.0.1:8088
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã UI historyserver
–ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É —Å —É—á–µ—Ç–æ–º –ø—Ä–æ–±—Ä–æ—à–µ–Ω–Ω–µ–≥–æ –ø–æ—Ä—Ç–∞
```bash
ssh -L 19888:team-k-nn:19888 team@host
```
–ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ –∞–¥—Ä–µ—Å—É
```bash
127.0.0.1:19888
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ NodeManager

–ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è
```bash
ssh team@host
sudo -i -u hadoop
```

–ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ data node 0 –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ–º yarn-site.xml
```bash
ssh team-k-dn-0
nano /home/hadoop/hadoop-x.x.0/etc/hadoop/yarn-site.xml
```

–í—Å—Ç–∞–≤–ª—è–µ–º –≤ –∫–æ–Ω—Ñ–∏–≥ 
```bash
<?xml version="1.0"?>
<!--
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file.
-->
<configuration>

<!-- Site specific YARN configuration properties -->

       <property>
                <name>yarn.nodemanager.aux-services</name>
                <value>mapreduce_shuffle</value>
        </property>
       <property>
      		<name>yarn.nodemanager.webapp.address</name>
      		<value>0.0.0.0:8042</value>
  	</property>
       <property>
                <name>yarn.nodemanager.env-whitelist</name>
                <value>JAVA_HOME, HADOOP_COMMON_HOME, HADOOP_HDFS_HOME, HADOOP_CONF_DIR, CLASSPATH_PREPEND_DISTCACHE, HADOOP_YARN_HOME, HADOOP_HOME, PATH, LANG, TZ, HADOOP_MAPRED_HOME</value>
        </property>
</configuration>
```

–ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ data node 1 –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ–º yarn-site.xml
```bash
ssh team-k-dn-1
nano /home/hadoop/hadoop-x.x.0/etc/hadoop/yarn-site.xml
```

–í—Å—Ç–∞–≤–ª—è–µ–º –≤ –∫–æ–Ω—Ñ–∏–≥ 
```bash
<?xml version="1.0"?>
<!--
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file.
-->
<configuration>

<!-- Site specific YARN configuration properties -->

       <property>
                <name>yarn.nodemanager.aux-services</name>
                <value>mapreduce_shuffle</value>
        </property>
       <property>
      		<name>yarn.nodemanager.webapp.address</name>
      		<value>0.0.0.0:8042</value>
  	</property>
       <property>
                <name>yarn.nodemanager.env-whitelist</name>
                <value>JAVA_HOME, HADOOP_COMMON_HOME, HADOOP_HDFS_HOME, HADOOP_CONF_DIR, CLASSPATH_PREPEND_DISTCACHE, HADOOP_YARN_HOME, HADOOP_HOME, PATH, LANG, TZ, HADOOP_MAPRED_HOME</value>
        </property>
</configuration>
```

–ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ jump node
```bash
ssh team-k-jn
```

–í—ã—Ö–æ–¥–∏–º –∏–∑ —É—á–µ—Ç–∫–∏ hadoop
```bash
exit
```

–ö–æ–ø–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ nginx –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ NodeManager
```bash
sudo cp /etc/nginx/sites-available/nn /etc/nginx/sites-available/nm-0
sudo cp /etc/nginx/sites-available/nn /etc/nginx/sites-available/nm-1
```

–û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª –∏ –∑–∞–º–µ–Ω—è–µ–º 
–û—Ç–∫—Ä—ã–≤–∞–µ–º 
```bash
sudo nano /etc/nginx/sites-available/nm-0
```
–ó–∞–º–µ–Ω—è–µ–º —Å—Ç—Ä–æ–∫—É —Å listen –Ω–∞:
```bash
listen 8043 default_server;
```
–ó–∞–º–µ–Ω—è–µ–º —Å—Ç—Ä–æ–∫—É —Å proxy_pass –Ω–∞:
```bash
proxy_pass http://team-k-nn:8042;
```

–û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª –∏ –∑–∞–º–µ–Ω—è–µ–º 
–û—Ç–∫—Ä—ã–≤–∞–µ–º 
```bash
sudo nano /etc/nginx/sites-available/nm-1
```
–ó–∞–º–µ–Ω—è–µ–º —Å—Ç—Ä–æ–∫—É —Å listen –Ω–∞:
```bash
listen 8044 default_server;
```
–ó–∞–º–µ–Ω—è–µ–º —Å—Ç—Ä–æ–∫—É —Å proxy_pass –Ω–∞:
```bash
proxy_pass http://team-k-nn:8042;
```

–í–∫–ª—é—á–∞–µ–º NodeManager –≤ nginx
```bash
sudo ln -s /etc/nginx/sites-available/nm-0 /etc/nginx/sites-enabled/nm-0
sudo ln -s /etc/nginx/sites-available/nm-1 /etc/nginx/sites-enabled/nm-1
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º nginx
```bash
sudo systemctl reload nginx
exit
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã UI data node-0
–ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É —Å —É—á–µ—Ç–æ–º –ø—Ä–æ–±—Ä–æ—à–µ–Ω–Ω–µ–≥–æ –ø–æ—Ä—Ç–∞
```bash
ssh -L 8043:team-k-dn-0:8042 team@host
```
–ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ –∞–¥—Ä–µ—Å—É
```bash
127.0.0.1:8043
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã UI data node-1
–ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É —Å —É—á–µ—Ç–æ–º –ø—Ä–æ–±—Ä–æ—à–µ–Ω–Ω–µ–≥–æ –ø–æ—Ä—Ç–∞
```bash
ssh -L 8044:team-k-dn-1:8042 team@host
```
–ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ –∞–¥—Ä–µ—Å—É
```bash
127.0.0.1:8044
```


## –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
—à–∞–≥ 1
```bash
ssh team@host
sudo -i -u hadoop
ssh team-k-nn
cd hadoop-x.x.0/
```
—à–∞–≥ 2
```bash
mapred --daemon stop historyserver # –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º historyserver
```
—à–∞–≥ 3
```bash
sbin/stop-yarn.sh # –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º YARN
```
—à–∞–≥ 4
```bash
sbin/stop-dfs.sh # –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º dfs
```
—à–∞–≥ 5
```bash
jps # –ü—Ä–æ–≤–µ—Ä–∫–∞ nn
```
—à–∞–≥ 6
```bash
ssh team-k-dn-0 # –ü—Ä–æ–≤–µ—Ä–∫–∞ dn-0
jps
exit
```
—à–∞–≥ 7
```bash
ssh team-k-dn-1 # –ü—Ä–æ–≤–µ—Ä–∫–∞ dn-1
jps
exit
```
